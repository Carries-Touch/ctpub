$((function(){function e(e){let t=document.querySelector("#completed-template").content.cloneNode(!0).querySelector(".template-container");return t.dataset.variant=e,t.querySelectorAll(`.variant:not([data-variant="${e}"])`).forEach((e=>{e.remove()})),t.outerHTML}function t(e){if(l)return l;const t=Object.values(this.survey.data);return t.toSorted(((e,a)=>{const i=t.filter((e=>{})).length,n=t.filter((e=>{})).length;return i<n?-1:n>i?1:0}))[0]}Survey.FunctionFactory.Instance.register("evaluatePersonality",t);const a={firstPageIsStarted:!0,startSurveyText:"Start the Quiz",pages:[{elements:[{type:"html",html:document.querySelector("#start-template").content.cloneNode(!0).querySelector(".template-container").outerHTML}]},{name:"Question 1",title:"Question 1",elements:[{type:"radiogroup",name:"question-01",title:"WHAT MOTIVATES YOU THE MOST?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Innovating new ideas."},{value:"lena",text:"Supporting loved ones."},{value:"beneatha",text:"Learning new things."},{value:"ruth",text:"Maintaining harmony."},{value:"travis",text:"Exploring possibilities."}]}]},{name:"Question 2",title:"Question 2",elements:[{type:"radiogroup",name:"question-02",title:"WHEN FACED WITH A CHALLENGE, HOW DO YOU RESPOND?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Look for new opportunities."},{value:"lena",text:"Draw on family wisdom."},{value:"beneatha",text:"Challenge the status quo."},{value:"ruth",text:"Ensure everyone is okay."},{value:"travis",text:"Stay hopeful and curious."}]}]},{name:"Question 3",title:"Question 3",elements:[{type:"radiogroup",name:"question-03",title:"WHAT ROLE DO YOU OFTEN FIND YOURSELF IN GROUPS?",choicesOrder:"random",hideNumber:!0,choices:[{value:"walter",text:"The leader."},{value:"lena",text:"The advisor."},{value:"beneatha",text:"The innovator."},{value:"ruth",text:"The mediator."},{value:"travis",text:"The motivator."}]}]},{name:"Question 4",title:"Question 4",elements:[{type:"radiogroup",name:"question-04",title:"CHOOSE A QUOTE THAT RESONATES WITH YOU MOST",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:'"The future belongs to thos who believe in the beauty of their dreams."'},{value:"lena",text:'"A house is made of walls and beams; a home is build with love and dreams."'},{value:"beneatha",text:'"Be the change that you wish to see in the world."'},{value:"ruth",text:'"Peace is not absence of conflict, it is the ability to handle conflict by peaceful means."'},{value:"travis",text:'"Hope is being able to see that there is light despite all of the darkness."'}]}]},{name:"Question 5",title:"Question 5",elements:[{type:"radiogroup",name:"question-05",title:"WHAT DRIVES YOUR DECISIONS AND ACTIONS THE MOST?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Success"},{value:"lena",text:"Tradition"},{value:"beneatha",text:"Knowledge"},{value:"ruth",text:"Stability"},{value:"travis",text:"Potential"}]}]},{name:"Question 6",title:"Question 6",elements:[{type:"radiogroup",name:"question-06",title:"HOW DO YOU APPROACH PROBLEM SOLVING?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Entepreneurially"},{value:"lena",text:"Pragmatically"},{value:"beneatha",text:"Creatively"},{value:"ruth",text:"Diplomatically"},{value:"travis",text:"Optimistically"}]}]},{name:"Question 7",title:"Question 7",elements:[{type:"radiogroup",name:"question-07",title:"WHAT IS YOUR BIGGEST FEAR?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Failure"},{value:"lena",text:"Conflict or lack of harmony"},{value:"beneatha",text:"Changing myself to fit in"},{value:"ruth",text:"Instability"},{value:"travis",text:"Not fulfilling my potential"}]}]},{name:"Question 8",title:"Question 8",elements:[{type:"radiogroup",name:"question-08",title:"WHAT LEGACY DO YOU WANT TO LEAVE?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Wealth for my family"},{value:"lena",text:"A strong family bond"},{value:"beneatha",text:"A path for others to follow"},{value:"ruth",text:"A peaceful home"},{value:"travis",text:"A better world"}]}]},{name:"Question 9",title:"Question 9",elements:[{type:"radiogroup",name:"question-09",title:"HOW DO YOU RELAX AFTER A STRESSFUL DAY?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Plan for the next step"},{value:"lena",text:"Spend time with family"},{value:"beneatha",text:"Read a book"},{value:"ruth",text:"Meditate"},{value:"travis",text:"Video games, social media"}]}]},{name:"Question 10",title:"Question 10",elements:[{type:"radiogroup",name:"question-10",title:"WHAT BRINGS YOU THE MOST JOY?",choicesOrder:"random",hideNumber:!0,isRequired:!0,choices:[{value:"walter",text:"Making money"},{value:"lena",text:"Family gatherings"},{value:"beneatha",text:"Discoveries and innovations"},{value:"ruth",text:"Everyone being content"},{value:"travis",text:"Seeing new possibilities"}]}]}],completedHtmlOnCondition:[{expression:"evaluatePersonality() == 'walter'",html:e("walter")},{expression:"evaluatePersonality() == 'lena'",html:e("lena")},{expression:"evaluatePersonality() == 'beneatha'",html:e("beneatha")},{expression:"evaluatePersonality() == 'ruth'",html:e("ruth")},{expression:"evaluatePersonality() == 'travis'",html:e("travis")}]},i="ct-cycle-breaker-quiz",n=new Survey.Model(a);function o(){window.localStorage.setItem(i,JSON.stringify({completed:"completed"==n.state,pageNo:n.currentPageNo,data:n.data}))}!function(){var e=window.localStorage.getItem(i)||null;e&&(e=JSON.parse(e),n.data=e.data,e.completed?n.doComplete():e.pageNo&&(n.start(),n.currentPageNo=e.pageNo))}();var l=null;$(".skip-to-complete").on("click",(e=>{l=$(e.target).attr("data-variant"),n.doComplete()})),n.onAfterRenderQuestion.add((()=>{if(n.isShowStartingPage)document.getElementsByTagName("body")[0].classList.add("start");else{const e=document.getElementsByTagName("body")[0];e.classList.remove("question-"+n.currentPageNo),e.classList.add("question","question-"+(n.currentPageNo+1))}})),n.onComplete.add((function(){document.getElementsByTagName("body")[0].classList.add("complete"),o();var e,a=[];for(const[e,t]of Object.entries(n.data)){const i=n.getQuestionByName(e);i&&i.choices.filter((e=>{e.jsonObj.value==t&&a.push({question:i.title,answer:e.jsonObj})}))}message={personality:t.bind({survey:n})(),answers:a},e=message,message=JSON.stringify({name:"complete",content:e}),window.application&&window.application.sendMessage&&window.application.sendMessage(message),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.application&&window.webkit.messageHandlers.application.postMessage(message)})),n.onValueChanged.add(o),n.onCurrentPageChanged.add(o),n.onStarted.add((()=>{o()})),$(document).on("click",".template-action-button.start-quiz",(e=>{n.start()})),$(document).on("click",".template-action-button.restart-quiz",(e=>{window.localStorage.removeItem(i),n.clear()})),$("#surveyContainer").Survey({model:n}),window.previousPage=function(){return"completed"!=n.state&&n.prevPage()}}));
